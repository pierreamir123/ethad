"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = decoratorFactory;
/**
 * 关于装饰器模式:
 * http://nickmeldrum.com/blog/decorators-in-javascript-using-monkey-patching-closures-prototypes-proxies-and-middleware
 * */

function decoratorFactory(fn, scope) {
	var instance = {
		addDecorators: function addDecorators(decorators) {
			decorators.slice().reverse().forEach(function (decorator) {
				return fn = decorator(fn);
			});
			instance[fn.name] = scope ? fn.bind(scope) : fn;
			return instance;
		}
	};

	return instance;
}